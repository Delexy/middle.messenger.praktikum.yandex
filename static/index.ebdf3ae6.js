var e=function(e){var t,n="",s=e||{};return function(e){n=n+'<div class="auth-page"><div class="auth-page__content"> '+(null==(t=e)?"":t)+"</div></div>"}.call(this,"RegistrationForm"in s?s.RegistrationForm:"undefined"!=typeof RegistrationForm?RegistrationForm:void 0),n};var t=class{constructor(){this.listeners={}}on(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)}off(e,t){if(!this.listeners[e])throw new Error(`Нет события: ${e}`);this.listeners[e]=this.listeners[e].filter((e=>e!==t))}emit(e,...t){if(!this.listeners[e])throw new Error(`Нет события: ${e}`);this.listeners[e].forEach((function(e){e(...t)}))}};var n={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let s;const i=new Uint8Array(16);function r(){if(!s&&(s="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!s))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return s(i)}const a=[];for(let e=0;e<256;++e)a.push((e+256).toString(16).slice(1));function o(e,t=0){return(a[e[t+0]]+a[e[t+1]]+a[e[t+2]]+a[e[t+3]]+"-"+a[e[t+4]]+a[e[t+5]]+"-"+a[e[t+6]]+a[e[t+7]]+"-"+a[e[t+8]]+a[e[t+9]]+"-"+a[e[t+10]]+a[e[t+11]]+a[e[t+12]]+a[e[t+13]]+a[e[t+14]]+a[e[t+15]]).toLowerCase()}var l=function(e,t,s){if(n.randomUUID&&!t&&!e)return n.randomUUID();const i=(e=e||{}).random||(e.rng||r)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){s=s||0;for(let e=0;e<16;++e)t[s+e]=i[e];return t}return o(i)};let c;var u;(u=c||(c={})).INIT="init",u.FLOW_CDM="flow:component-did-mount",u.FLOW_CDU="flow:component-did-update",u.FLOW_CU="flow:compoenent-updated",u.FLOW_RENDER="flow:render";class p{constructor(e={}){const n=new t,{children:s,props:i}=this._getChildren(e);this.id=l(),this._element,this._meta={props:i},this.props=this._makePropsProxy(i),this.children=s,this.eventBus=()=>n,this._registerEvents(n),n.emit(c.INIT)}_registerEvents(e){e.on(c.INIT,this._init.bind(this)),e.on(c.FLOW_CDM,this._componentDidMount.bind(this)),e.on(c.FLOW_CDU,this._componentDidUpdate.bind(this)),e.on(c.FLOW_CU,this._componentUpdated.bind(this)),e.on(c.FLOW_RENDER,this._render.bind(this))}_addEvents(){const{events:e}=this.props;e&&Object.keys(e).forEach((t=>{this._element&&(Array.isArray(e[t])?e[t].forEach((e=>this._element.addEventListener(t,e))):this._element.addEventListener(t,e[t]))}))}_removeEvents(){const{events:e}=this.props;e&&Object.keys(e).forEach((t=>{this._element&&(Array.isArray(e[t])?e[t].forEach((e=>this._element.removeEventListener(t,e))):this._element.removeEventListener(t,e[t]))}))}_getChildren(e){const t={},n={};return Object.entries(e).forEach((([e,s])=>{Array.isArray(s)&&s[0]instanceof p||s instanceof p?t[e]=s:n[e]=s})),{children:t,props:n}}_init(){this.init(),this.eventBus().emit(c.FLOW_RENDER)}init(){}_componentDidMount(){this.componentDidMount(),Object.values(this.children).forEach((e=>{Array.isArray(e)?e.forEach((e=>e.dispatchComponentDidMount())):e.dispatchComponentDidMount()}))}componentDidMount(){}dispatchComponentDidMount(){this.eventBus().emit(c.FLOW_CDM)}_componentDidUpdate(e,t){this.componentDidUpdate(e,t)&&this.eventBus().emit(c.FLOW_RENDER),this.eventBus().emit(c.FLOW_CU)}componentDidUpdate(e,t){return e!=t}_componentUpdated(){this.componentUpdated()}componentUpdated(){}setProps=e=>{e&&Object.assign(this.props,e)};get element(){return this._element}_render(){const e=this.render();this._removeEvents();const t=e.firstChild;this._element&&this._element.replaceWith(e),this._element=t,this._addEvents()}render(){return""}compile(e,t){const n={...t};Object.entries(this.children).forEach((([e,t])=>{Array.isArray(t)?n[e]=t.map((e=>`<div data-id="${e.id}"></div>`)).join(""):n[e]=`<div data-id="${t.id}"></div>`}));const s=this._createDocumentElement("template");return s.innerHTML=e(n),Object.values(this.children).forEach((e=>{if(Array.isArray(e))e.forEach((e=>{const t=s.content.querySelector(`[data-id="${e.id}"]`);t&&t.replaceWith(e.getContent())}));else{const t=s.content.querySelector(`[data-id="${e.id}"]`);t&&t.replaceWith(e.getContent())}})),s.content}getContent(){return this.element}_makePropsProxy(e){return e=new Proxy(e,{get:(e,t)=>"function"==typeof e[t]?e[t].bind(e):e[t],set:(e,t,n,s)=>{const i=Reflect.set(e,t,n,s);return this.eventBus().emit(c.FLOW_CDU,this.props,e),i}})}_createDocumentElement(e){return document.createElement(e)}show(){this.element&&(this.element.style.display="block")}hide(){this.element&&(this.element.style.display="none")}}function d(e,t,n,s){if(!1===t||null==t||!t&&("class"===e||"style"===e))return"";if(!0===t)return" "+(s?e:e+'="'+e+'"');var i=typeof t;return"object"!==i&&"function"!==i||"function"!=typeof t.toJSON||(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),n||-1===t.indexOf('"'))?(n&&(t=h(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"}function f(e,t){return Array.isArray(e)?function(e,t){for(var n,s="",i="",r=Array.isArray(t),a=0;a<e.length;a++)(n=f(e[a]))&&(r&&t[a]&&(n=h(n)),s=s+i+n,i=" ");return s}(e,t):e&&"object"==typeof e?function(e){var t="",n="";for(var s in e)s&&e[s]&&v.call(e,s)&&(t=t+n+s,n=" ");return t}(e):e||""}function h(e){var t=""+e,n=m.exec(t);if(!n)return e;var s,i,r,a="";for(s=n.index,i=0;s<t.length;s++){switch(t.charCodeAt(s)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}i!==s&&(a+=t.substring(i,s)),i=s+1,a+=r}return i!==s?a+t.substring(i,s):a}var v=Object.prototype.hasOwnProperty,m=/["&<>]/;function g(e,t){if(1===arguments.length){for(var n=e[0],s=1;s<e.length;s++)n=g(n,e[s]);return n}for(var i in t)if("class"===i){var r=e[i]||[];e[i]=(Array.isArray(r)?r:[r]).concat(t[i]||[])}else if("style"===i){r=(r=y(e[i]))&&";"!==r[r.length-1]?r+";":r;var a=y(t[i]);a=a&&";"!==a[a.length-1]?a+";":a,e[i]=r+a}else e[i]=t[i];return e}function y(e){if(!e)return"";if("object"==typeof e){var t="";for(var n in e)v.call(e,n)&&(t=t+n+":"+e[n]+";");return t}return e+""}var _=function(e){var t,n="",s=e||{};return function(e,s,i,r){n=n+"<label"+d("class",f(["input",s],[!1,!0]),!1,!1)+"><input"+function(e,t){var n="";for(var s in e)if(v.call(e,s)){var i=e[s];if("class"===s){n=d(s,i=f(i),!1,t)+n;continue}"style"===s&&(i=y(i)),n+=d(s,i,!1,t)}return n}(g([{class:"input__el",type:"text"},e]),!1)+"/>",r&&(n=n+'<span class="input__title">'+h(null==(t=r)?"":t)+"</span>"),"password"===e.type&&(n+='<button class="input__eye" type="button"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g clip-path="url(#clip0_25488_3)">\n<mask id="mask0_25488_3" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="0" y="0" width="16" height="16">\n<path d="M16 0H0V16H16V0Z" fill="white"/>\n</mask>\n<g mask="url(#mask0_25488_3)">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M15.8045 0.195262C16.0648 0.455611 16.0648 0.87772 15.8045 1.13807L12.6591 4.28347C12.6535 4.28933 12.6477 4.29507 12.6419 4.30068L4.28544 12.6571C4.27979 12.663 4.27406 12.6687 4.26825 12.6743L1.13783 15.8047C0.877479 16.0651 0.455367 16.0651 0.195018 15.8047C-0.0653315 15.5444 -0.0653315 15.1223 0.195018 14.8619L2.82265 12.2343C1.94403 11.4271 1.29427 10.5237 0.848559 9.7866C0.578187 9.33947 0.379156 8.94733 0.24683 8.66473C0.180592 8.52333 0.130853 8.40887 0.0970633 8.32813C0.0801626 8.2878 0.067234 8.25587 0.0582096 8.23313L0.0475869 8.20607L0.0444519 8.19793L0.0434254 8.1952L0.043047 8.1942C0.043047 8.1942 0.0427584 8.19347 0.666479 7.95807L0.0492212 7.7062L0.0494901 7.70553L0.0501882 7.7038L0.0522265 7.69887L0.0588771 7.683C0.0644567 7.66973 0.072334 7.65127 0.0825246 7.62793C0.102901 7.58133 0.132555 7.51513 0.171613 7.43227C0.249681 7.26653 0.365615 7.03333 0.520488 6.755C0.829419 6.19987 1.29761 5.45759 1.93511 4.71233C3.2041 3.22885 5.20603 1.66667 7.99978 1.66667C9.63485 1.66667 11.0033 2.20369 12.1097 2.94721L14.8617 0.195262C15.1221 -0.0650874 15.5441 -0.0650874 15.8045 0.195262ZM6.44775 8.6092L8.60892 6.44799C8.42032 6.37391 8.21492 6.33333 7.99978 6.33333C7.07925 6.33333 6.33309 7.07953 6.33309 8C6.33309 8.21513 6.37366 8.42053 6.44775 8.6092ZM9.59685 5.46012C9.13445 5.16888 8.58652 5 7.99978 5C6.3429 5 4.99976 6.34315 4.99976 8C4.99976 8.58673 5.16864 9.13467 5.45987 9.59707L3.76644 11.2905C2.98899 10.5862 2.40091 9.777 1.98951 9.09667C1.74739 8.69627 1.57015 8.3466 1.45432 8.09927C1.43175 8.05107 1.41155 8.00687 1.39369 7.96693C1.46044 7.82693 1.55753 7.6334 1.68557 7.40333C1.96354 6.90387 2.38296 6.23997 2.94832 5.57904C4.08504 4.25018 5.74978 3 7.99978 3C9.21945 3 10.2631 3.36566 11.1455 3.91147L9.59685 5.46012Z" fill="#8D8D8D"/>\n<path d="M0.0492213 7.70621L-0.0495605 7.94887L0.0427585 8.19347L0.666479 7.95807C0.0490057 7.70674 0.0492213 7.70621 0.0492213 7.70621Z" fill="#8D8D8D"/>\n<path d="M13.7379 5.33118C14.0363 5.11554 14.4531 5.18264 14.6687 5.48106C15.0982 6.07542 15.4157 6.62528 15.6267 7.028C15.7323 7.22967 15.8117 7.3954 15.8654 7.51254C15.8923 7.57114 15.9128 7.6176 15.927 7.65047C15.9341 7.66694 15.9396 7.67994 15.9435 7.6894L15.9483 7.7008L15.9498 7.70447L15.9503 7.70574L15.9506 7.70654L15.3332 7.95807L15.9567 8.194L15.9565 8.19467L15.9558 8.19647L15.9539 8.20154L15.9475 8.21774C15.9423 8.23127 15.9348 8.25007 15.9251 8.2738C15.9057 8.32134 15.8775 8.38867 15.8403 8.473C15.7657 8.64154 15.6546 8.87867 15.5051 9.1616C15.2067 9.72594 14.7511 10.4806 14.1213 11.2385C12.8655 12.7495 10.8619 14.3333 7.99987 14.3333C7.41807 14.3333 6.8686 14.2675 6.35157 14.1485C5.99276 14.066 5.7688 13.7082 5.85135 13.3494C5.9339 12.9906 6.2917 12.7666 6.65051 12.8491C7.07034 12.9457 7.51954 13 7.99987 13C10.3166 13 11.9796 11.7295 13.0959 10.3863C13.6521 9.71694 14.0587 9.04447 14.3263 8.53847C14.4497 8.30507 14.5425 8.1088 14.606 7.96694C14.5644 7.87967 14.511 7.77154 14.4455 7.6466C14.2575 7.28774 13.9727 6.79434 13.588 6.262C13.3723 5.96358 13.4395 5.54684 13.7379 5.33118Z" fill="#8D8D8D"/>\n<path d="M15.9565 8.19399C15.9565 8.19399 15.9567 8.19346 15.333 7.95806C15.9505 7.70673 15.9504 7.70653 15.9504 7.70653L16.0491 7.94886L15.9565 8.19399Z" fill="#8D8D8D"/>\n</g>\n</g>\n<defs>\n<clipPath id="clip0_25488_3">\n<rect width="16" height="16" fill="white"/>\n</clipPath>\n</defs>\n</svg>\n</button>'),n=n+'<span class="input__error-text">'+h(null==(t=i)?"":t)+"</span></label>"}.call(this,"attributes"in s?s.attributes:"undefined"!=typeof attributes?attributes:void 0,"className"in s?s.className:"undefined"!=typeof className?className:void 0,"error"in s?s.error:"undefined"!=typeof error?error:void 0,"label"in s?s.label:"undefined"!=typeof label?label:void 0),n};const b={email:"pochta@yandex.ru",login:"ivanivanov",first_name:"Иван",display_name:"Иван",second_name:"Иванов",phone:"+79099673030",avatar:""},w={email:"Почта",login:"Логин",first_name:"Имя",second_name:"Фамилия",display_name:"Имя в чате",phone:"Телефон",avatar:"Аватар",password:"Пароль"},M={login:new RegExp(/^(?=.*[A-Za-z])([A-Za-z0-9-_]{3,20})$/gm),first_name:new RegExp(/^([A-ZА-Я]){1}([A-Za-zА-Яа-я-])+$/gm),second_name:new RegExp(/^([A-ZА-Я]){1}([A-Za-zА-Яа-я-])+$/gm),email:new RegExp(/^\S+@\S+\.\S+$/gi),password:new RegExp(/^(?=.*[0-9])(?=.*[A-Z])([.\S]{8,40})$/g),phone:new RegExp(/^\+?[1-9][0-9]{10,15}$/gi),message:new RegExp(/^.+$/gim)},x={login:"Длина от 3 до 20 символов, первая буква заглавная",first_name:"Поле введено неверно",second_name:"Поле введено неверно",email:"Email введён неверно",password:"Пароль должен быть от 8 до 40 символов",phone:"Телефон введён неверно"};class C extends p{constructor(e){super(e),this.props.attributes.type=e.attributes.type||"text",this.value=this.props.attributes.value||""}validation(){let e=!0;return this.props.attributes.name&&(e=!!`${this.value}`.match(M[this.props.attributes.name]),e?this.props.className&&(this.props.className=this.props.className.replace(" input_error","")):(this.props.className.includes("input_error")||(this.props.className=`${this.props.className||""} input_error`,this.props.error=x[this.props.attributes.name]),e=!1)),e}init(){const e=e=>{e.target&&"INPUT"===e.target.nodeName&&(this.value=e.target.value,this.props.attributes.value=this.value),this.validation()},t=e=>{const t=e.target;if(t&&(t.classList.contains("input__eye")||t.closest(".input__eye"))){const e=this.element.querySelector(".input__el");e.type="password"===e.type?"text":"password"}};this.props.events=this.props.events||{},this.props.events.change?this.props.events.change=Array.isArray(this.props.events.change)?[...this.props.events.change,e]:[this.props.events.change,e]:this.props.events.change=e,this.props.events.focusout?this.props.events.focusout=Array.isArray(this.props.events.focusout)?[...this.props.events.focusout,e]:[this.props.events.focusout,e]:this.props.events.focusout=e,this.props.events.click?this.props.events.click=Array.isArray(this.props.events.click)?[...this.props.events.click,t]:[this.props.events.click,t]:this.props.events.click=t}componentUpdated(){if(this.value&&this.element){const e=this.element.querySelector(".input__el");e&&(e.value=this.value)}}render(){return this.compile(_,this.props)}}function L(e,t,n,s){if(!1===t||null==t||!t&&("class"===e||"style"===e))return"";if(!0===t)return" "+(s?e:e+'="'+e+'"');var i=typeof t;return"object"!==i&&"function"!==i||"function"!=typeof t.toJSON||(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),n||-1===t.indexOf('"'))?(n&&(t=N(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"}function k(e,t){return Array.isArray(e)?function(e,t){for(var n,s="",i="",r=Array.isArray(t),a=0;a<e.length;a++)(n=k(e[a]))&&(r&&t[a]&&(n=N(n)),s=s+i+n,i=" ");return s}(e,t):e&&"object"==typeof e?function(e){var t="",n="";for(var s in e)s&&e[s]&&A.call(e,s)&&(t=t+n+s,n=" ");return t}(e):e||""}function N(e){var t=""+e,n=O.exec(t);if(!n)return e;var s,i,r,a="";for(s=n.index,i=0;s<t.length;s++){switch(t.charCodeAt(s)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}i!==s&&(a+=t.substring(i,s)),i=s+1,a+=r}return i!==s?a+t.substring(i,s):a}var A=Object.prototype.hasOwnProperty,O=/["&<>]/;var j=function(e){var t,n="",s=e||{};return function(e,s,i,r,a,o,l){n=n+"<form"+(L("class",k(["form",o?"form_modal":"",i],[!1,!0,!0]),!1,!1)+L("id",r,!0,!1))+">",o&&(n+='<button class="form__close" type="button"></button>'),l&&(n=n+'<p class="form__title">'+N(null==(t=l)?"":t)+"</p>"),n=n+'<div class="auth-form__inputs">'+(null==(t=a)?"":t)+'<div class="auth-form__btns"> '+(null==(t=e)?"":t)+"\n\t"+(null==(t=s)?"":t)+"</div></div></form>"}.call(this,"ActionBtn"in s?s.ActionBtn:"undefined"!=typeof ActionBtn?ActionBtn:void 0,"Link"in s?s.Link:"undefined"!=typeof Link?Link:void 0,"className"in s?s.className:"undefined"!=typeof className?className:void 0,"id"in s?s.id:"undefined"!=typeof id?id:void 0,"inputs"in s?s.inputs:"undefined"!=typeof inputs?inputs:void 0,"isModal"in s?s.isModal:"undefined"!=typeof isModal?isModal:void 0,"title"in s?s.title:"undefined"!=typeof title?title:void 0),n};var E=class extends p{constructor(e){super(e)}validation(){this.isValid=!0;return(Array.isArray(this.children.inputs)?[...this.children.inputs]:[this.children.inputs]).forEach((e=>{e.validation()||(this.isValid=!1)})),this.isValid}render(){return this.compile(j,this.props)}};function S(e,t,n,s){if(!1===t||null==t||!t&&("class"===e||"style"===e))return"";if(!0===t)return" "+(s?e:e+'="'+e+'"');var i=typeof t;return"object"!==i&&"function"!==i||"function"!=typeof t.toJSON||(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),n||-1===t.indexOf('"'))?(n&&(t=I(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"}function D(e,t){var n="";for(var s in e)if(U.call(e,s)){var i=e[s];if("class"===s){n=S(s,i=F(i),!1,t)+n;continue}"style"===s&&(i=z(i)),n+=S(s,i,!1,t)}return n}function F(e,t){return Array.isArray(e)?function(e,t){for(var n,s="",i="",r=Array.isArray(t),a=0;a<e.length;a++)(n=F(e[a]))&&(r&&t[a]&&(n=I(n)),s=s+i+n,i=" ");return s}(e,t):e&&"object"==typeof e?function(e){var t="",n="";for(var s in e)s&&e[s]&&U.call(e,s)&&(t=t+n+s,n=" ");return t}(e):e||""}function I(e){var t=""+e,n=P.exec(t);if(!n)return e;var s,i,r,a="";for(s=n.index,i=0;s<t.length;s++){switch(t.charCodeAt(s)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}i!==s&&(a+=t.substring(i,s)),i=s+1,a+=r}return i!==s?a+t.substring(i,s):a}var U=Object.prototype.hasOwnProperty,P=/["&<>]/;function H(e,t){if(1===arguments.length){for(var n=e[0],s=1;s<e.length;s++)n=H(n,e[s]);return n}for(var i in t)if("class"===i){var r=e[i]||[];e[i]=(Array.isArray(r)?r:[r]).concat(t[i]||[])}else if("style"===i){r=(r=z(e[i]))&&";"!==r[r.length-1]?r+";":r;var a=z(t[i]);a=a&&";"!==a[a.length-1]?a+";":a,e[i]=r+a}else e[i]=t[i];return e}function z(e){if(!e)return"";if("object"==typeof e){var t="";for(var n in e)U.call(e,n)&&(t=t+n+":"+e[n]+";");return t}return e+""}var T=function(e){var t,n="",s=e||{};return function(e,s,i){n=s?n+"<a"+D(H([{class:"btn",href:I(s)},e]),!1)+">"+I(null==(t=i)?"":t)+"</a>":n+"<button"+D(H([{class:"btn"},e]),!1)+">"+I(null==(t=i)?"":t)+"</button>"}.call(this,"attributes"in s?s.attributes:"undefined"!=typeof attributes?attributes:void 0,"href"in s?s.href:"undefined"!=typeof href?href:void 0,"text"in s?s.text:"undefined"!=typeof text?text:void 0),n};var Z=class extends p{constructor(e){super(e)}render(){return this.compile(T,this.props)}};const B="auth-form__input";var J=class extends p{init(){this.children={RegistrationForm:new E({title:"Регистрация",inputs:[new C({label:"Почта",className:B,attributes:{placeholder:"Почта",type:"email",name:"email"}}),new C({label:"Логин",className:B,attributes:{placeholder:"Логин",name:"login"}}),new C({label:"Имя",className:B,attributes:{placeholder:"Имя",name:"first_name"}}),new C({label:"Фамилия",className:B,attributes:{placeholder:"Фамилия",name:"second_name"}}),new C({label:"Телефон",className:B,attributes:{placeholder:"Телефон",type:"tel",name:"phone"}}),new C({label:"Пароль",className:B,attributes:{placeholder:"Пароль",type:"password",name:"password"}})],ActionBtn:new Z({text:"Зарегистрироваться",attributes:{type:"submit"}}),Link:`<a class="auth-form__register" href="${ft.auth}">Войти</a>`,events:{submit:e=>{if(e.preventDefault(),this.children.RegistrationForm.validation()){const t=new FormData(e.target);console.log(Object.fromEntries(t))}}}})}}render(){return this.compile(e,this.props)}};var R=function(e){var t,n="",s=e||{};return function(e){n=n+'<div class="auth-page"><div class="auth-page__content"> '+(null==(t=e)?"":t)+"</div></div>"}.call(this,"AuthForm"in s?s.AuthForm:"undefined"!=typeof AuthForm?AuthForm:void 0),n};const V="auth-form__input";var W=class extends p{init(){this.children={AuthForm:new E({title:"Авторизация",inputs:[new C({label:"Логин",className:V,attributes:{placeholder:"Логин",name:"login"}}),new C({label:"Пароль",className:V,attributes:{placeholder:"Пароль",type:"password",name:"password"}})],ActionBtn:new Z({text:"Войти",attributes:{type:"submit"}}),Link:`<a class="auth-form__register" href="${ft.registration}">Зарегистрироваться</a>`,events:{submit:e=>{if(e.preventDefault(),this.children.AuthForm.validation()){const t=new FormData(e.target);console.log(Object.fromEntries(t))}}}})}}render(){return this.compile(R,this.props)}};function q(e){var t=""+e,n=$.exec(t);if(!n)return e;var s,i,r,a="";for(s=n.index,i=0;s<t.length;s++){switch(t.charCodeAt(s)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}i!==s&&(a+=t.substring(i,s)),i=s+1,a+=r}return i!==s?a+t.substring(i,s):a}var $=/["&<>]/;var Y=function(e){var t,n="",s=e||{};return function(e,s,i){n=n+'<div class="error-page"> <p class="error-page__status">'+q(null==(t=s)?"":t)+'</p><p class="error-page__text">'+q(null==(t=i)?"":t)+"</p>"+(null==(t=e)?"":t)+"</div>"}.call(this,"Link"in s?s.Link:"undefined"!=typeof Link?Link:void 0,"status"in s?s.status:"undefined"!=typeof status?status:void 0,"statusText"in s?s.statusText:"undefined"!=typeof statusText?statusText:void 0),n};var G=class extends p{constructor(e){super(e)}init(){this.children={Link:new Z({text:"На главную",href:ft.index,attributes:{class:"error-page__link"}})}}render(){return this.compile(Y,this.props)}};var Q=function(e){var t,n="",s=e||{};return function(e){n=n+'<div><h1>"Ссылки" на страницы</h1><nav><ul></ul>\t'+(null==(t=e)?"":t)+"</nav></div>"}.call(this,"links"in s?s.links:"undefined"!=typeof links?links:void 0),n};const X="margin-bottom: 2rem;";var K=class extends p{init(){this.children={links:[new Z({text:"Чаты",href:ft.index,attributes:{style:X}}),new Z({text:"Авторизация",href:ft.auth,attributes:{style:X}}),new Z({text:"Регистрация",href:ft.registration,attributes:{style:X}}),new Z({text:"ЛК: Просмотр данных",href:ft.profile,attributes:{style:X}}),new Z({text:"ЛК: Редактирование данных",href:ft.profileEdit,attributes:{style:X}}),new Z({text:"ЛК: Редактирование пароля",href:ft.changePassword,attributes:{style:X}}),new Z({text:"404",href:ft.unknown,attributes:{style:X}}),new Z({text:"500",href:ft.serverError,attributes:{style:X}})]}}render(){return this.compile(Q,this.props)}};function ee(e,t,n,s){if(!1===t||null==t||!t&&("class"===e||"style"===e))return"";if(!0===t)return" "+(s?e:e+'="'+e+'"');var i=typeof t;return"object"!==i&&"function"!==i||"function"!=typeof t.toJSON||(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),n||-1===t.indexOf('"'))?(n&&(t=te(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"}function te(e){var t=""+e,n=ne.exec(t);if(!n)return e;var s,i,r,a="";for(s=n.index,i=0;s<t.length;s++){switch(t.charCodeAt(s)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}i!==s&&(a+=t.substring(i,s)),i=s+1,a+=r}return i!==s?a+t.substring(i,s):a}var ne=/["&<>]/;var se=function(e){var t,n="",s=e||{};return function(e,s,i,r,a,o){n=n+'<div class="profile-page"> <a class="profile-page__back"'+ee("href",s,!0,!1)+'><svg width="28" height="28" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">\n<circle cx="14" cy="14" r="14" transform="rotate(-180 14 14)" fill="#3369F3"/>\n<rect x="20" y="14.8" width="11" height="1.6" transform="rotate(-180 20 14.8)" fill="white"/>\n<path d="M13 19L9 14L13 9" stroke="white" stroke-width="1.6"/>\n</svg>\n</a><div class="profile-page__content">'+(null==(t=e)?"":t)+'<p class="profile-page__name">'+te(null==(t=o.first_name)?"":t)+'</p><div class="profile-list profile-page__data">',function(){var e=o;if("number"==typeof e.length)for(var s=0,i=e.length;s<i;s++){var r=e[s];n=n+'<div class="profile-list__el"><p class="profile-list__name">'+te(null==(t=a[s])?"":t)+"</p>"+(null==(t=r)?"":t)+"</div>"}else{i=0;for(var s in e){i++;r=e[s];n=n+'<div class="profile-list__el"><p class="profile-list__name">'+te(null==(t=a[s])?"":t)+"</p>"+(null==(t=r)?"":t)+"</div>"}}}.call(this),n=n+'</div><nav class="profile-list profile-page__links"><div class="profile-list__el"><a'+ee("href",r,!0,!1)+'>Изменить данные</a></div><div class="profile-list__el"><a'+ee("href",i,!0,!1)+'>Изменить пароль</a></div><div class="profile-list__el"><a class="profile-page__exit">Выйти</a></div></nav></div></div>'}.call(this,"Photo"in s?s.Photo:"undefined"!=typeof Photo?Photo:void 0,"backUrl"in s?s.backUrl:"undefined"!=typeof backUrl?backUrl:void 0,"changePasswordUrl"in s?s.changePasswordUrl:"undefined"!=typeof changePasswordUrl?changePasswordUrl:void 0,"changeProfileUrl"in s?s.changeProfileUrl:"undefined"!=typeof changeProfileUrl?changeProfileUrl:void 0,"fieldsNaming"in s?s.fieldsNaming:"undefined"!=typeof fieldsNaming?fieldsNaming:void 0,"user"in s?s.user:"undefined"!=typeof user?user:void 0),n};function ie(e,t,n,s){if(!1===t||null==t||!t&&("class"===e||"style"===e))return"";if(!0===t)return" "+(s?e:e+'="'+e+'"');var i=typeof t;return"object"!==i&&"function"!==i||"function"!=typeof t.toJSON||(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),n||-1===t.indexOf('"'))?(n&&(t=ae(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"}function re(e,t){return Array.isArray(e)?function(e,t){for(var n,s="",i="",r=Array.isArray(t),a=0;a<e.length;a++)(n=re(e[a]))&&(r&&t[a]&&(n=ae(n)),s=s+i+n,i=" ");return s}(e,t):e&&"object"==typeof e?function(e){var t="",n="";for(var s in e)s&&e[s]&&oe.call(e,s)&&(t=t+n+s,n=" ");return t}(e):e||""}function ae(e){var t=""+e,n=le.exec(t);if(!n)return e;var s,i,r,a="";for(s=n.index,i=0;s<t.length;s++){switch(t.charCodeAt(s)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}i!==s&&(a+=t.substring(i,s)),i=s+1,a+=r}return i!==s?a+t.substring(i,s):a}var oe=Object.prototype.hasOwnProperty,le=/["&<>]/;var ce=function(e){var t,n="",s=e||{};return function(e,s,i,r){n=n+"<div"+ie("class",re(["photo",i?"photo_change":"",s.class],[!1,!0,!0]),!1,!1)+'><img class="photo__img"'+ie("src",r,!0,!1)+ie("alt",s.alt,!0,!1)+"/>",i&&(n+=null==(t=e)?"":t),n+="</div>"}.call(this,"ChangePhotoModal"in s?s.ChangePhotoModal:"undefined"!=typeof ChangePhotoModal?ChangePhotoModal:void 0,"attributes"in s?s.attributes:"undefined"!=typeof attributes?attributes:void 0,"canChange"in s?s.canChange:"undefined"!=typeof canChange?canChange:void 0,"photoSrc"in s?s.photoSrc:"undefined"!=typeof photoSrc?photoSrc:void 0),n};function ue(e,t,n,s){if(!1===t||null==t||!t&&("class"===e||"style"===e))return"";if(!0===t)return" "+(s?e:e+'="'+e+'"');var i=typeof t;return"object"!==i&&"function"!==i||"function"!=typeof t.toJSON||(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),n||-1===t.indexOf('"'))?(n&&(t=de(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"}function pe(e,t){return Array.isArray(e)?function(e,t){for(var n,s="",i="",r=Array.isArray(t),a=0;a<e.length;a++)(n=pe(e[a]))&&(r&&t[a]&&(n=de(n)),s=s+i+n,i=" ");return s}(e,t):e&&"object"==typeof e?function(e){var t="",n="";for(var s in e)s&&e[s]&&fe.call(e,s)&&(t=t+n+s,n=" ");return t}(e):e||""}function de(e){var t=""+e,n=he.exec(t);if(!n)return e;var s,i,r,a="";for(s=n.index,i=0;s<t.length;s++){switch(t.charCodeAt(s)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}i!==s&&(a+=t.substring(i,s)),i=s+1,a+=r}return i!==s?a+t.substring(i,s):a}var fe=Object.prototype.hasOwnProperty,he=/["&<>]/;var ve=function(e){var t,n="",s=e||{};return function(e,s,i,r,a,o){n=n+"<form"+(ue("class",pe(["form","from-image",a?"form_modal":"",i.class],[!1,!1,!0,!0]),!1,!1)+ue("id",i.id,!0,!1))+">",a&&(n+='<button class="form__close" type="button" data-close="true"></button>'),n=n+'<p class="form__title">'+de(null==(t=o)?"":t)+'</p><div class="auth-form__inputs">'+(null==(t=e)?"":t)+"\n"+(null==(t=s)?"":t)+'<span class="form-image__error">'+de(null==(t=r)?"":t)+"</span></div></form>"}.call(this,"FileInput"in s?s.FileInput:"undefined"!=typeof FileInput?FileInput:void 0,"SaveBtn"in s?s.SaveBtn:"undefined"!=typeof SaveBtn?SaveBtn:void 0,"attributes"in s?s.attributes:"undefined"!=typeof attributes?attributes:void 0,"errorText"in s?s.errorText:"undefined"!=typeof errorText?errorText:void 0,"isModal"in s?s.isModal:"undefined"!=typeof isModal?isModal:void 0,"title"in s?s.title:"undefined"!=typeof title?title:void 0),n};function me(e,t,n,s){if(!1===t||null==t||!t&&("class"===e||"style"===e))return"";if(!0===t)return" "+(s?e:e+'="'+e+'"');var i=typeof t;return"object"!==i&&"function"!==i||"function"!=typeof t.toJSON||(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),n||-1===t.indexOf('"'))?(n&&(t=ye(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"}function ge(e,t){return Array.isArray(e)?function(e,t){for(var n,s="",i="",r=Array.isArray(t),a=0;a<e.length;a++)(n=ge(e[a]))&&(r&&t[a]&&(n=ye(n)),s=s+i+n,i=" ");return s}(e,t):e&&"object"==typeof e?function(e){var t="",n="";for(var s in e)s&&e[s]&&_e.call(e,s)&&(t=t+n+s,n=" ");return t}(e):e||""}function ye(e){var t=""+e,n=be.exec(t);if(!n)return e;var s,i,r,a="";for(s=n.index,i=0;s<t.length;s++){switch(t.charCodeAt(s)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}i!==s&&(a+=t.substring(i,s)),i=s+1,a+=r}return i!==s?a+t.substring(i,s):a}var _e=Object.prototype.hasOwnProperty,be=/["&<>]/;var we=function(e){var t,n="",s=e||{};return function(e,s,i,r,a,o){n=n+"<label"+me("class",ge(["photo-input",s.class],[!1,!0]),!1,!1)+'><input class="photo-input__input" type="file"'+me("name",a,!0,!1)+me("accept",e,!0,!1)+"/>",n=i?n+'<img class="photo-input__img"'+me("src",i,!0,!1)+me("alt",a,!0,!1)+'/><span class="photo-input__img-name">'+ye(null==(t=r)?"":t)+"</span>":n+'<span class="photo-input__title">'+ye(null==(t=o)?"":t)+"</span>",n+="</label>"}.call(this,"accept"in s?s.accept:"undefined"!=typeof accept?accept:void 0,"attributes"in s?s.attributes:"undefined"!=typeof attributes?attributes:void 0,"currentImg"in s?s.currentImg:"undefined"!=typeof currentImg?currentImg:void 0,"imgName"in s?s.imgName:"undefined"!=typeof imgName?imgName:void 0,"name"in s?s.name:"undefined"!=typeof name?name:void 0,"title"in s?s.title:"undefined"!=typeof title?title:void 0),n};var Me=class extends p{constructor(e){e.events||(e.events={}),e.events.change=e=>{const t=e.target;if(t&&t.files){const e=t.files[0];if(this.value=e,e.type.startsWith("image")){let t=null;const n=new FileReader;n.onload=n=>{t=n.target?n.target.result:null,this.setProps({imgName:e.name,currentImg:t})},n.readAsDataURL(e)}}},super(e)}componentDidMount(){return!0}componentDidUpdate(){return!0}render(){return this.compile(we,this.props)}};var xe=class extends p{constructor(e){super(e)}init(){this.children={FileInput:new Me({title:"Выбрать файл на компьютере",accept:this.props.accept||"",name:this.props.name||"avatar",attributes:{class:"form-image__input"}}),SaveBtn:new Z({text:"Поменять",attributes:{class:"form-image__btn"}})}}validation(){return!!this.children.FileInput.value}submit(e){e.preventDefault();const t=this.element;if(this.props.attributes.class="is-active",this.validation()){const e=new FormData(t);console.log(Object.fromEntries(e)),this.props.errorText="",t.reset()}else this.props.errorText="Нужно выбрать файл"}getFile(){return this.children.FileInput.value}render(){return this.compile(ve,this.props)}};var Ce=class extends p{constructor(e){super(e),this.props.photoSrc||(this.props.photoSrc="data:image/svg+xml;base64,PCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KDTwhLS0gVXBsb2FkZWQgdG86IFNWRyBSZXBvLCB3d3cuc3ZncmVwby5jb20sIFRyYW5zZm9ybWVkIGJ5OiBTVkcgUmVwbyBNaXhlciBUb29scyAtLT4KPHN2ZyB3aWR0aD0iODAwcHgiIGhlaWdodD0iODAwcHgiIHZpZXdCb3g9Ii0zIDAgMzIgMzIiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgZmlsbD0iIzAwMDAwMCI+Cg08ZyBpZD0iU1ZHUmVwb19iZ0NhcnJpZXIiIHN0cm9rZS13aWR0aD0iMCIvPgoNPGcgaWQ9IlNWR1JlcG9fdHJhY2VyQ2FycmllciIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cg08ZyBpZD0iU1ZHUmVwb19pY29uQ2FycmllciI+IDxnIGlkPSJpY29tb29uLWlnbm9yZSI+IDwvZz4gPHBhdGggZD0iTTEyLjggMy4yYy03LjA5MyAwLTEyLjggNS43MDctMTIuOCAxMi44czUuNzA3IDEyLjggMTIuOCAxMi44YzcuMDkzIDAgMTIuOC01LjcwNyAxMi44LTEyLjhzLTUuNzA3LTEyLjgtMTIuOC0xMi44ek0xMi44IDI3LjczM2MtNi40NTMgMC0xMS43MzMtNS4yOC0xMS43MzMtMTEuNzMzczUuMjgtMTEuNzMzIDExLjczMy0xMS43MzNjNi40NTMgMCAxMS43MzMgNS4yOCAxMS43MzMgMTEuNzMzcy01LjI4IDExLjczMy0xMS43MzMgMTEuNzMzeiIgZmlsbD0iIzMzNjlGMyI+IDwvcGF0aD4gPHBhdGggZD0iTTE5LjQ2NyAxOS4wNDBjLTAuMjY3LTAuMTA3LTAuNTg3LTAuMDUzLTAuNjkzIDAuMjEzLTEuMTczIDIuMjkzLTMuNDY3IDMuNjgtNS45NzMgMy42OC0yLjU2IDAtNC44LTEuMzg3LTUuOTczLTMuNjgtMC4xMDctMC4yNjctMC40MjctMC4zNzMtMC42OTMtMC4yMTMtMC4yNjcgMC4xMDctMC4zNzMgMC40MjctMC4yNjcgMC42OTMgMS4zMzMgMi42MTMgMy45NDcgNC4yNjcgNi45MzMgNC4yNjcgMi45MzMgMCA1LjYtMS42NTMgNi44OC00LjI2NyAwLjE2LTAuMjY3IDAuMDUzLTAuNTg3LTAuMjEzLTAuNjkzeiIgZmlsbD0iIzMzNjlGMyI+IDwvcGF0aD4gPHBhdGggZD0iTTEwLjEzMyAxMy4zMzNjMCAwLjg4NC0wLjcxNiAxLjYtMS42IDEuNnMtMS42LTAuNzE2LTEuNi0xLjZjMC0wLjg4NCAwLjcxNi0xLjYgMS42LTEuNnMxLjYgMC43MTYgMS42IDEuNnoiIGZpbGw9IiMzMzY5RjMiPiA8L3BhdGg+IDxwYXRoIGQ9Ik0xOC42NjcgMTMuMzMzYzAgMC44ODQtMC43MTYgMS42LTEuNiAxLjZzLTEuNi0wLjcxNi0xLjYtMS42YzAtMC44ODQgMC43MTYtMS42IDEuNi0xLjZzMS42IDAuNzE2IDEuNiAxLjZ6IiBmaWxsPSIjMzM2OUYzIj4gPC9wYXRoPiA8L2c+Cg08L3N2Zz4=")}init(){this.props.canChange&&(this.children.ChangePhotoModal=new xe({title:"Изменить аватар",isModal:!0,currentImg:this.props.photoSrc,accept:"image/*",attributes:{class:"",id:""},events:{submit:e=>{e.stopPropagation(),e.preventDefault();const t=this.children.ChangePhotoModal;if(t.props.attributes.class="is-active",t.validation()){const e=new FormData;e.append("avatar",t.getFile()),console.log(Object.fromEntries(e)),t.props.errorText=""}else t.props.errorText="Нужно выбрать файл"},click:e=>{e.stopPropagation();const t=e.target;if(t&&t?.classList.contains("form__close")){this.children.ChangePhotoModal.element.classList.toggle("is-active")}}}}),this.props.events||(this.props.events={}),this.props.events.click=()=>{this.children.ChangePhotoModal.element.classList.toggle("is-active")})}render(){return this.compile(ce,this.props)}};var Le=class extends p{constructor(e){e&&(e.user=b,e.fieldsNaming=w),super(e)}init(){delete b.avatar,this.children={Photo:new Ce({photoSrc:this.props.user.avatar,attributes:{alt:this.props.user.first_name}})}}compileUserData(){return`\n      <div class = "profile-list__el">\n        <p class = "profile-list__name">Почта</p>\n        <p class = "profile-list__value">${this.props.fieldsNaming.email}</p>\n      </div>\n      <div class = "profile-list__el">\n        <p class = "profile-list__name">Логин</p>\n        <p class = "profile-list__value">${this.props.fieldsNaming.login}</p>\n      </div>\n      <div class = "profile-list__el">\n        <p class = "profile-list__name">Имя</p>\n        <p class = "profile-list__value">${this.props.fieldsNaming.first_name}</p>\n      </div>\n      <div class = "profile-list__el">\n        <p class = "profile-list__name">Фамилия</p>\n        <p class = "profile-list__value">${this.props.fieldsNaming.second_name}</p>\n      </div>\n      <div class = "profile-list__el">\n        <p class = "profile-list__name">Имя в чате</p>\n        <p class = "profile-list__value">${this.props.fieldsNaming.login}</p>\n      </div>\n      <div class = "profile-list__el">\n        <p class = "profile-list__name">Телефон</p>\n        <p class = "profile-list__value">${this.props.fieldsNaming.phone}</p>\n      </div>\n    `}render(){return this.compile(se,this.props)}};function ke(e){var t=""+e,n=Ne.exec(t);if(!n)return e;var s,i,r,a="";for(s=n.index,i=0;s<t.length;s++){switch(t.charCodeAt(s)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}i!==s&&(a+=t.substring(i,s)),i=s+1,a+=r}return i!==s?a+t.substring(i,s):a}var Ne=/["&<>]/;var Ae=function(e){var t,n="",s=e||{};return function(e,s,i,r){n=n+'<div class="profile-page"> <a class="profile-page__back"'+function(e,t,n,s){if(!1===t||null==t||!t&&("class"===e||"style"===e))return"";if(!0===t)return" "+(s?e:e+'="'+e+'"');var i=typeof t;return"object"!==i&&"function"!==i||"function"!=typeof t.toJSON||(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),n||-1===t.indexOf('"'))?(n&&(t=ke(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"}("href",i,!0,!1)+'><svg width="28" height="28" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">\n<circle cx="14" cy="14" r="14" transform="rotate(-180 14 14)" fill="#3369F3"/>\n<rect x="20" y="14.8" width="11" height="1.6" transform="rotate(-180 20 14.8)" fill="white"/>\n<path d="M13 19L9 14L13 9" stroke="white" stroke-width="1.6"/>\n</svg>\n</a><div class="profile-page__content">'+(null==(t=s)?"":t)+'<p class="profile-page__name">'+ke(null==(t=r.first_name)?"":t)+"</p>"+(null==(t=e)?"":t)+"</div></div>"}.call(this,"EditForm"in s?s.EditForm:"undefined"!=typeof EditForm?EditForm:void 0,"Photo"in s?s.Photo:"undefined"!=typeof Photo?Photo:void 0,"backUrl"in s?s.backUrl:"undefined"!=typeof backUrl?backUrl:void 0,"user"in s?s.user:"undefined"!=typeof user?user:void 0),n};const Oe="auth-form__input";var je=class extends p{constructor(e){e&&(e.user=b,e.fieldsNaming=w),super(e)}init(){this.children={Photo:new Ce({photoSrc:this.props.user.avatar,canChange:!0,attributes:{alt:this.props.user.first_name}}),EditForm:new E({inputs:[new C({label:"Почта",className:Oe,attributes:{value:this.props.user.email,placeholder:"Почта",type:"email",name:"email"}}),new C({label:"Логин",className:Oe,attributes:{value:this.props.user.login,placeholder:"Логин",name:"login"}}),new C({label:"Имя",className:Oe,attributes:{value:this.props.user.first_name,placeholder:"Имя",name:"first_name"}}),new C({label:"Имя в чате",className:Oe,attributes:{value:this.props.user.first_name,placeholder:"Имя",name:"display_name"}}),new C({label:"Фамилия",className:Oe,attributes:{value:this.props.user.second_name,placeholder:"Фамилия",name:"second_name"}}),new C({label:"Телефон",className:Oe,attributes:{value:this.props.user.phone,placeholder:"Телефон",type:"tel",name:"phone"}})],ActionBtn:new Z({text:"Изменить",attributes:{type:"submit"}}),Link:"",events:{submit:e=>{if(e.preventDefault(),this.children.EditForm.validation()){const t=new FormData(e.target);console.log(Object.fromEntries(t))}}}}),SaveBtn:new Z({text:"Сохранить",attributes:{class:"profile-page__btn-save",type:"submit"}})}}render(){return this.compile(Ae,this.props)}};function Ee(e,t,n,s){if(!1===t||null==t||!t&&("class"===e||"style"===e))return"";if(!0===t)return" "+(s?e:e+'="'+e+'"');var i=typeof t;return"object"!==i&&"function"!==i||"function"!=typeof t.toJSON||(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),n||-1===t.indexOf('"'))?(n&&(t=function(e){var t=""+e,n=Se.exec(t);if(!n)return e;var s,i,r,a="";for(s=n.index,i=0;s<t.length;s++){switch(t.charCodeAt(s)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}i!==s&&(a+=t.substring(i,s)),i=s+1,a+=r}return i!==s?a+t.substring(i,s):a}(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"}var Se=/["&<>]/;var De=function(e){var t,n="",s=e||{};return function(e,s,i){n=n+'<div class="profile-page"> <a class="profile-page__back"'+Ee("href",i,!0,!1)+'><svg width="28" height="28" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">\n<circle cx="14" cy="14" r="14" transform="rotate(-180 14 14)" fill="#3369F3"/>\n<rect x="20" y="14.8" width="11" height="1.6" transform="rotate(-180 20 14.8)" fill="white"/>\n<path d="M13 19L9 14L13 9" stroke="white" stroke-width="1.6"/>\n</svg>\n</a><div class="profile-page__content">'+(null==(t=e)?"":t)+'<form class="profile-list profile-page__data"><div class="profile-list__el"><p class="profile-list__name">Старый пароль</p><input class="profile-list__input" value="" name="oldPassword" type="password" placeholder="Старый пароль"/></div><div class="profile-list__el"><p class="profile-list__name">Новый пароль</p><input class="profile-list__input" value="" name="newPassword" type="password" placeholder="Новый пароль"/></div><div class="profile-list__el"><p class="profile-list__name">Подтверждение пароль</p><input class="profile-list__input" value="" name="confirmPassword" type="password" placeholder="Подтверждение пароля"/></div>'+(null==(t=s)?"":t)+"</form></div></div>"}.call(this,"Photo"in s?s.Photo:"undefined"!=typeof Photo?Photo:void 0,"SaveBtn"in s?s.SaveBtn:"undefined"!=typeof SaveBtn?SaveBtn:void 0,"backUrl"in s?s.backUrl:"undefined"!=typeof backUrl?backUrl:void 0),n};var Fe=class extends p{constructor(e){e&&(e.user=b,e.fieldsNaming=w,e.events={submit:e=>{e.preventDefault();if(this.validate()&&e.target){const t=new FormData(e.target);console.log(Object.fromEntries(t))}}}),super(e)}init(){this.children={Photo:new Ce({photoSrc:this.props.user.avatar,canChange:!1,attributes:{alt:this.props.user.first_name}}),SaveBtn:new Z({text:"Сохранить",attributes:{class:"profile-page__btn-save",type:"submit"}})}}validate(){let e=!0;this.element.querySelectorAll("input[name]").forEach((t=>{const n=t.type;`${t.value}`.match(M[n])?t.parentElement?.classList.remove("is-error"):(t.parentElement?.classList.add("is-error"),e=!1)}));const t=this.element.querySelector("input[name=newPassword]"),n=this.element.querySelector("input[name=confirmPassword]");return t.value!==n.value&&(t.parentElement?.classList.add("is-error"),n.parentElement?.classList.add("is-error"),e=!1),e}render(){return this.compile(De,this.props)}};function Ie(e){var t=""+e,n=Ue.exec(t);if(!n)return e;var s,i,r,a="";for(s=n.index,i=0;s<t.length;s++){switch(t.charCodeAt(s)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}i!==s&&(a+=t.substring(i,s)),i=s+1,a+=r}return i!==s?a+t.substring(i,s):a}var Ue=/["&<>]/;var Pe=function(e){var t,n="",s=e||{};return function(e,s,i,r,a,o){n=n+'<div class="chat-wrapper"><div class="chats-sidebar"><a class="chat-profile"'+function(e,t,n,s){if(!1===t||null==t||!t&&("class"===e||"style"===e))return"";if(!0===t)return" "+(s?e:e+'="'+e+'"');var i=typeof t;return"object"!==i&&"function"!==i||"function"!=typeof t.toJSON||(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),n||-1===t.indexOf('"'))?(n&&(t=Ie(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"}("href",a,!0,!1)+">"+(null==(t=r)?"":t)+'<p class="chat-profile__name">'+Ie(null==(t=o.first_name)?"":t)+'</p></a><label class="chat-search"><div class="chat-search__icon"><svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M11.5924 11.4138C10.1605 12.8457 7.83886 12.8457 6.40694 11.4138C4.97502 9.9819 4.97502 7.6603 6.40694 6.22837C7.83886 4.79645 10.1605 4.79645 11.5924 6.22837C13.0243 7.6603 13.0243 9.9819 11.5924 11.4138ZM12.0328 12.7968C10.0725 14.2962 7.25696 14.1495 5.46413 12.3566C3.51151 10.404 3.51151 7.23819 5.46413 5.28556C7.41675 3.33294 10.5826 3.33294 12.5352 5.28556C14.3279 7.07831 14.4747 9.89373 12.9755 11.8539L16.5423 15.4206L15.5994 16.3635L12.0328 12.7968Z" fill="#999999"/>\n</svg>\n</div><input class="chat-search__input" type="text" name="search" placeholder="Поиск"/></label><div class="chat-add" data-modal="add-chat-modal"><div class="chat-add__icon"> <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">\n<circle cx="11" cy="11" r="10.25" stroke="#3369F3" stroke-width="1.5"/>\n<line x1="10.9999" y1="5.5" x2="10.9999" y2="16.5" stroke="#3369F3" stroke-width="1.5"/>\n<line x1="5.49988" y1="11" x2="16.4999" y2="11" stroke="#3369F3" stroke-width="1.5"/>\n</svg>\n</div><span class="chat-add__text">Добавить новый чат</span></div><div class="chats-list"> '+(null==(t=s)?"":t)+"</div></div>",n=(n+=e?null==(t=e)?"":t:'<div class="chat"> <div class="chat-inactive"> <p class="chat-inactive__text">Выберите чат чтобы отправить сообщение</p></div></div>')+(null==(t=i)?"":t)+"</div>"}.call(this,"ActiveChat"in s?s.ActiveChat:"undefined"!=typeof ActiveChat?ActiveChat:void 0,"ChatsList"in s?s.ChatsList:"undefined"!=typeof ChatsList?ChatsList:void 0,"Modals"in s?s.Modals:"undefined"!=typeof Modals?Modals:void 0,"UserPhoto"in s?s.UserPhoto:"undefined"!=typeof UserPhoto?UserPhoto:void 0,"profileUrl"in s?s.profileUrl:"undefined"!=typeof profileUrl?profileUrl:void 0,"user"in s?s.user:"undefined"!=typeof user?user:void 0),n};function He(e,t,n,s){if(!1===t||null==t||!t&&("class"===e||"style"===e))return"";if(!0===t)return" "+(s?e:e+'="'+e+'"');var i=typeof t;return"object"!==i&&"function"!==i||"function"!=typeof t.toJSON||(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),n||-1===t.indexOf('"'))?(n&&(t=Te(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"}function ze(e,t){return Array.isArray(e)?function(e,t){for(var n,s="",i="",r=Array.isArray(t),a=0;a<e.length;a++)(n=ze(e[a]))&&(r&&t[a]&&(n=Te(n)),s=s+i+n,i=" ");return s}(e,t):e&&"object"==typeof e?function(e){var t="",n="";for(var s in e)s&&e[s]&&Ze.call(e,s)&&(t=t+n+s,n=" ");return t}(e):e||""}function Te(e){var t=""+e,n=Be.exec(t);if(!n)return e;var s,i,r,a="";for(s=n.index,i=0;s<t.length;s++){switch(t.charCodeAt(s)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}i!==s&&(a+=t.substring(i,s)),i=s+1,a+=r}return i!==s?a+t.substring(i,s):a}var Ze=Object.prototype.hasOwnProperty,Be=/["&<>]/;var Je=function(e){var t,n="",s=e||{};return function(e,s,i,r,a,o,l){n=n+"<div"+He("class",ze(["chat-el",s?"is-active":""],[!1,!0]),!1,!1)+">"+(null==(t=e)?"":t)+'<div class="chat-el__content"> <span class="chat-el__name">'+Te(null==(t=l.display_name)?"":t)+"</span><span"+He("class",ze(["chat-el__text",i?"chat-el__text_last-user":""],[!1,!0]),!1,!1)+">"+Te(null==(t=a)?"":t)+'</span></div><span class="chat-el__time">'+Te(null==(t=o)?"":t)+"</span>",r>0&&(n=n+'<span class="chat-el__msg-count">'+Te(null==(t=r)?"":t)+"</span>"),n+="</div>"}.call(this,"UserPhoto"in s?s.UserPhoto:"undefined"!=typeof UserPhoto?UserPhoto:void 0,"isActive"in s?s.isActive:"undefined"!=typeof isActive?isActive:void 0,"isUserMessageLast"in s?s.isUserMessageLast:"undefined"!=typeof isUserMessageLast?isUserMessageLast:void 0,"messageCount"in s?s.messageCount:"undefined"!=typeof messageCount?messageCount:void 0,"text"in s?s.text:"undefined"!=typeof text?text:void 0,"time"in s?s.time:"undefined"!=typeof time?time:void 0,"user"in s?s.user:"undefined"!=typeof user?user:void 0),n};var Re=class extends p{constructor(e){e.user=b,super(e)}init(){this.children={UserPhoto:new Ce({photoSrc:this.props.user.avatar,attributes:{class:"chat-el__img",alt:this.props.user.first_name}})}}render(){return this.compile(Je,this.props)}};function Ve(e){var t=""+e,n=We.exec(t);if(!n)return e;var s,i,r,a="";for(s=n.index,i=0;s<t.length;s++){switch(t.charCodeAt(s)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}i!==s&&(a+=t.substring(i,s)),i=s+1,a+=r}return i!==s?a+t.substring(i,s):a}var We=/["&<>]/;var qe=function(e){var t,n="",s=e||{};return function(e,s,i,r,a,o){n=n+'<div class="chat"><div class="chat-active"> <div class="chat-user"><a class="chat-profile chat-user__profile"'+function(e,t,n,s){if(!1===t||null==t||!t&&("class"===e||"style"===e))return"";if(!0===t)return" "+(s?e:e+'="'+e+'"');var i=typeof t;return"object"!==i&&"function"!==i||"function"!=typeof t.toJSON||(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),n||-1===t.indexOf('"'))?(n&&(t=Ve(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"}("href",a,!0,!1)+">"+(null==(t=r)?"":t)+'<p class="chat-profile__name">'+Ve(null==(t=o.display_name)?"":t)+'</p></a><div class="chat-user__menu"> <div class="chat-user__icon"><svg width="3" height="16" viewBox="0 0 3 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<circle cx="1.5" cy="2" r="1.5" fill="#1E1E1E"/>\n<circle cx="1.5" cy="8" r="1.5" fill="#1E1E1E"/>\n<circle cx="1.5" cy="14" r="1.5" fill="#1E1E1E"/>\n</svg>\n</div><div class="chat-user__actions">  <button class="chat-user__action" data-modal="change-photo-modal"><span class="chat-user__action-image"> <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M4 1.5H18C19.3807 1.5 20.5 2.61929 20.5 4V14L14.5194 12.4052C13.5108 12.1362 12.4714 12 11.4275 12H10.5725C9.52864 12 8.48921 12.1362 7.48057 12.4052L1.5 14V4C1.5 2.61929 2.61929 1.5 4 1.5ZM0 4C0 1.79086 1.79086 0 4 0H18C20.2091 0 22 1.79086 22 4V18C22 20.2091 20.2091 22 18 22H4C1.79086 22 0 20.2091 0 18V4ZM8 6C8 7.10457 7.10457 8 6 8C4.89543 8 4 7.10457 4 6C4 4.89543 4.89543 4 6 4C7.10457 4 8 4.89543 8 6Z" fill="#3369F3"/>\n</svg>\n</span><span class="chat-user__action-text">Изменить изображение</span></button><button class="chat-user__action" data-modal="add-user-modal"><span class="chat-user__action-image"> <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">\n<circle cx="11" cy="11" r="10.25" stroke="#3369F3" stroke-width="1.5"/>\n<line x1="10.9999" y1="5.5" x2="10.9999" y2="16.5" stroke="#3369F3" stroke-width="1.5"/>\n<line x1="5.49988" y1="11" x2="16.4999" y2="11" stroke="#3369F3" stroke-width="1.5"/>\n</svg>\n</span><span class="chat-user__action-text">Добавить пользователя</span></button><button class="chat-user__action" data-modal="remove-user-modal"><span class="chat-user__action-image"><svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">\n<circle cx="11" cy="11" r="10.25" stroke="#3369F3" stroke-width="1.5"/>\n<line x1="7.11077" y1="7.11103" x2="14.8889" y2="14.8892" stroke="#3369F3" stroke-width="1.5"/>\n<line x1="7.11078" y1="14.8891" x2="14.889" y2="7.11093" stroke="#3369F3" stroke-width="1.5"/>\n</svg>\n</span><span class="chat-user__action-text">Удалить пользователя</span></button><button class="chat-user__action chat-user__action_remove" data-modal="confirm-modal"><span class="chat-user__action-image"><svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g clip-path="url(#clip0_25534_5)">\n<path d="M13.8125 7.40625H8.1875V14.9688H13.8125V7.40625Z" stroke="#FF2F2F" stroke-linecap="round" stroke-linejoin="round"/>\n<path d="M6.9375 7.40625H15.0625" stroke="#FF2F2F" stroke-linecap="round" stroke-linejoin="round"/>\n<path d="M10.0625 6.03125H11.9375" stroke="#FF2F2F" stroke-linecap="round" stroke-linejoin="round"/>\n<path d="M10.0625 9.125V12.5625" stroke="#FF2F2F" stroke-linecap="round" stroke-linejoin="round"/>\n<path d="M11.9375 9.125V12.5625" stroke="#FF2F2F" stroke-linecap="round" stroke-linejoin="round"/>\n</g>\n<circle cx="11" cy="11" r="10.25" stroke="#FF2F2F" stroke-width="1.5"/>\n<defs>\n<clipPath id="clip0_25534_5">\n<rect width="10" height="11" fill="white" transform="translate(6 5)"/>\n</clipPath>\n</defs>\n</svg>\n</span><span class="chat-user__action-text">Удалить чат</span></button></div></div></div><div class="chat-messages"><div class="chat-messages__row"><span class="chat-messages__date"> 19 июня</span></div>'+(null==(t=s)?"":t)+'</div><div class="chat-message"><div class="chat-message__menu"> <div class="chat-message__icon"><svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M7.18662 13.5L14.7628 5.92389L15.7056 6.8667L8.12943 14.4428L7.18662 13.5Z" fill="#3369F3"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M9.70067 16.014L17.2768 8.43781L18.2196 9.38062L10.6435 16.9568L9.70067 16.014Z" fill="#3369F3"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M15.0433 21.3567L22.6195 13.7806L23.5623 14.7234L15.9861 22.2995L15.0433 21.3567Z" fill="#3369F3"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M17.5574 23.8706L25.1335 16.2945L26.0763 17.2373L18.5002 24.8134L17.5574 23.8706Z" fill="#3369F3"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M17.5574 23.8709C14.9423 26.486 10.7118 26.4954 8.10831 23.8919C5.50482 21.2884 5.51424 17.0579 8.12936 14.4428L7.18655 13.5C4.0484 16.6381 4.0371 21.7148 7.16129 24.839C10.2855 27.9632 15.3621 27.9518 18.5003 24.8137L17.5574 23.8709Z" fill="#3369F3"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M22.6195 13.7806L23.5623 14.7234C26.003 12.2826 26.0118 8.3341 23.5819 5.90417C21.152 3.47424 17.2035 3.48304 14.7627 5.92381L15.7055 6.86662C17.6233 4.94887 20.7257 4.94196 22.6349 6.85119C24.5441 8.76042 24.5372 11.8628 22.6195 13.7806Z" fill="#3369F3"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M9.70092 16.0144C7.95751 17.7578 7.95123 20.5782 9.68689 22.3138C11.4226 24.0495 14.2429 24.0432 15.9863 22.2998L15.0435 21.357C13.8231 22.5774 11.8489 22.5818 10.6339 21.3668C9.41894 20.1518 9.42334 18.1776 10.6437 16.9572L9.70092 16.0144Z" fill="#3369F3"/>\n</svg>\n</div><div class="chat-message__actions">  <button class="chat-message__action" type="button" data-modal="add-photo-modal"><span class="chat-message__action-image"> <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M4 1.5H18C19.3807 1.5 20.5 2.61929 20.5 4V14L14.5194 12.4052C13.5108 12.1362 12.4714 12 11.4275 12H10.5725C9.52864 12 8.48921 12.1362 7.48057 12.4052L1.5 14V4C1.5 2.61929 2.61929 1.5 4 1.5ZM0 4C0 1.79086 1.79086 0 4 0H18C20.2091 0 22 1.79086 22 4V18C22 20.2091 20.2091 22 18 22H4C1.79086 22 0 20.2091 0 18V4ZM8 6C8 7.10457 7.10457 8 6 8C4.89543 8 4 7.10457 4 6C4 4.89543 4.89543 4 6 4C7.10457 4 8 4.89543 8 6Z" fill="#3369F3"/>\n</svg>\n</span><span class="chat-message__action-text">Фото или видео</span></button><button class="chat-message__action" type="button" data-modal="add-file-modal"><span class="chat-message__action-image"> <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M4 1.5H18C19.3807 1.5 20.5 2.61929 20.5 4V12H16C13.7909 12 12 13.7909 12 16V20.5H4C2.61929 20.5 1.5 19.3807 1.5 18V4C1.5 2.61929 2.61929 1.5 4 1.5ZM12 22H4C1.79086 22 0 20.2091 0 18V4C0 1.79086 1.79086 0 4 0H18C20.2091 0 22 1.79086 22 4V12V18C22 20.2091 20.2091 22 18 22H12Z" fill="#3369F3"/>\n</svg>\n</span><span class="chat-message__action-text">Файл</span></button></div></div>'+(null==(t=e)?"":t)+"</div></div>"+(null==(t=i)?"":t)+"</div>"}.call(this,"MessageFormEl"in s?s.MessageFormEl:"undefined"!=typeof MessageFormEl?MessageFormEl:void 0,"Messages"in s?s.Messages:"undefined"!=typeof Messages?Messages:void 0,"Modals"in s?s.Modals:"undefined"!=typeof Modals?Modals:void 0,"UserPhoto"in s?s.UserPhoto:"undefined"!=typeof UserPhoto?UserPhoto:void 0,"profileUrl"in s?s.profileUrl:"undefined"!=typeof profileUrl?profileUrl:void 0,"user"in s?s.user:"undefined"!=typeof user?user:void 0),n};function $e(e,t,n,s){if(!1===t||null==t||!t&&("class"===e||"style"===e))return"";if(!0===t)return" "+(s?e:e+'="'+e+'"');var i=typeof t;return"object"!==i&&"function"!==i||"function"!=typeof t.toJSON||(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),n||-1===t.indexOf('"'))?(n&&(t=Ge(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"}function Ye(e,t){return Array.isArray(e)?function(e,t){for(var n,s="",i="",r=Array.isArray(t),a=0;a<e.length;a++)(n=Ye(e[a]))&&(r&&t[a]&&(n=Ge(n)),s=s+i+n,i=" ");return s}(e,t):e&&"object"==typeof e?function(e){var t="",n="";for(var s in e)s&&e[s]&&Qe.call(e,s)&&(t=t+n+s,n=" ");return t}(e):e||""}function Ge(e){var t=""+e,n=Xe.exec(t);if(!n)return e;var s,i,r,a="";for(s=n.index,i=0;s<t.length;s++){switch(t.charCodeAt(s)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}i!==s&&(a+=t.substring(i,s)),i=s+1,a+=r}return i!==s?a+t.substring(i,s):a}var Qe=Object.prototype.hasOwnProperty,Xe=/["&<>]/;var Ke=function(e){var t,n="",s=e||{};return function(e,s,i,r,a){n=s?n+"<div"+$e("class",Ye(["chat-messages__message","chat-messages__media",e?"chat-messages__message_in":"chat-messages__message_out"],[!1,!1,!0]),!1,!1)+'><span class="chat-messages__time">'+Ge(null==(t=a)?"":t)+'</span><img class="chat-messages__img"'+$e("src",i,!0,!1)+' alt="Изображение в чате"/></div>':n+'<div class="chat-messages__row"><div'+$e("class",Ye(["chat-messages__message",e?"chat-messages__message_in":"chat-messages__message_out"],[!1,!0]),!1,!1)+'><span class="chat-messages__time">'+Ge(null==(t=a)?"":t)+'</span><p class="chat-messages__text">'+Ge(null==(t=r)?"":t)+"</p></div></div>"}.call(this,"isIncoming"in s?s.isIncoming:"undefined"!=typeof isIncoming?isIncoming:void 0,"isMedia"in s?s.isMedia:"undefined"!=typeof isMedia?isMedia:void 0,"src"in s?s.src:"undefined"!=typeof src?src:void 0,"text"in s?s.text:"undefined"!=typeof text?text:void 0,"time"in s?s.time:"undefined"!=typeof time?time:void 0),n};var et=class extends p{constructor(e){super(e)}render(){return this.compile(Ke,this.props)}};function tt(e,t,n,s){if(!1===t||null==t||!t&&("class"===e||"style"===e))return"";if(!0===t)return" "+(s?e:e+'="'+e+'"');var i=typeof t;return"object"!==i&&"function"!==i||"function"!=typeof t.toJSON||(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),n||-1===t.indexOf('"'))?(n&&(t=st(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"}function nt(e,t){return Array.isArray(e)?function(e,t){for(var n,s="",i="",r=Array.isArray(t),a=0;a<e.length;a++)(n=nt(e[a]))&&(r&&t[a]&&(n=st(n)),s=s+i+n,i=" ");return s}(e,t):e&&"object"==typeof e?function(e){var t="",n="";for(var s in e)s&&e[s]&&it.call(e,s)&&(t=t+n+s,n=" ");return t}(e):e||""}function st(e){var t=""+e,n=rt.exec(t);if(!n)return e;var s,i,r,a="";for(s=n.index,i=0;s<t.length;s++){switch(t.charCodeAt(s)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}i!==s&&(a+=t.substring(i,s)),i=s+1,a+=r}return i!==s?a+t.substring(i,s):a}var it=Object.prototype.hasOwnProperty,rt=/["&<>]/;var at=function(e){var t,n="",s=e||{};return function(e,s,i,r,a,o){n=n+"<form"+(tt("class",nt(["form","form_modal",s],[!1,!1,!0]),!1,!1)+tt("id",r,!0,!1))+'><button class="form__close" type="button" data-close="true"></button>',o&&(n=n+'<p class="form__title">'+st(null==(t=o)?"":t)+"</p>"),n=n+(null==(t=a)?"":t)+"\n"+(null==(t=e)?"":t)+"\n"+(null==(t=i)?"":t)+"</form>"}.call(this,"Button"in s?s.Button:"undefined"!=typeof Button?Button:void 0,"className"in s?s.className:"undefined"!=typeof className?className:void 0,"content"in s?s.content:"undefined"!=typeof content?content:void 0,"id"in s?s.id:"undefined"!=typeof id?id:void 0,"input"in s?s.input:"undefined"!=typeof input?input:void 0,"title"in s?s.title:"undefined"!=typeof title?title:void 0),n};var ot=class extends p{constructor(e){super(e)}submit(e){if(this.children.input&&(e.preventDefault(),this.children.input)){const e=new FormData(this.element);console.log(Object.fromEntries(e))}}render(){return this.compile(at,this.props)}};var lt=function(e){var t="";return t+='<form class="chat-message-form"><input class="chat-message__input" name="message"/><button class="chat-message__submit" type="submit"><svg width="28" height="28" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">\n<circle cx="14" cy="14" r="14" fill="#3369F3"/>\n<rect x="8" y="13.2" width="11" height="1.6" fill="white"/>\n<path d="M15 9L19 14L15 19" stroke="white" stroke-width="1.6"/>\n</svg>\n</button></form>'};var ct=class extends p{constructor(e){super(e)}submit(){const e=this.element,t=new FormData(e);t.get("message")&&(console.log(Object.fromEntries(t)),e.reset())}render(){return this.compile(lt,this.props)}};var ut=class extends p{constructor(e){super(e)}init(){this.props.user=b;const e=new xe({isModal:!0,title:"Изменить изображение",accept:"image/*",attributes:{id:"change-photo-modal",class:""},events:{change:()=>{e.validation()&&(e.props.attributes.class="is-active",e.props.title="Файл загружен")},submit:t=>{e.submit(t)}}}),t=new xe({isModal:!0,title:"Добавить изображение",name:"file",accept:"image/*,video/*",attributes:{id:"add-photo-modal",class:""},events:{change:()=>{t.validation()&&(t.props.attributes.class="is-active",t.props.title="Файл загружен")},submit:e=>{t.submit(e)}}}),n=new xe({isModal:!0,title:"Добавить файл",attributes:{id:"add-file-modal",class:""},name:"file",events:{change:()=>{n.validation()&&(n.props.attributes.class="is-active",n.props.title="Файл загружен")},submit:e=>{n.submit(e)}}}),s=new ot({title:"Добавить пользователя",id:"add-user-modal",input:new C({label:"Логин",attributes:{type:"text",name:"users"}}),Button:new Z({text:"Добавить",attributes:{class:"form-user__btn"}}),events:{submit:e=>{s.submit(e)}}}),i=new ot({title:"Удалить пользователя",id:"remove-user-modal",input:new C({label:"Логин",attributes:{type:"text",name:"users"}}),Button:new Z({text:"Удалить",attributes:{class:"form-user__btn btn_cancel"}}),events:{submit:e=>{i.submit(e)}}}),r=new ct({events:{submit:e=>{e.preventDefault(),r.submit()}}});this.children={UserPhoto:new Ce({photoSrc:this.props.user.avatar,attributes:{class:"chat-profile__img",alt:this.props.user.display_name}}),Messages:[new et({text:"Hello Hello Hello Hello Hello",time:"16:45",isIncoming:!0}),new et({text:"Hello Hello Hello Hello Hello",time:"16:45",isIncoming:!0,isMedia:!0,src:"https://funik.ru/wp-content/uploads/2018/10/27c13f31829a137aca6f.jpg"}),new et({text:"Hello Hello Hello Hello Hello",time:"16:45"}),new et({text:"Hello Hello Hello Hello Hello",time:"16:45",isMedia:!0,src:"https://funik.ru/wp-content/uploads/2018/10/27c13f31829a137aca6f.jpg"})],Modals:[new ot({title:"Подтвердите действие",id:"confirm-modal",content:'\n        <div class = "form-confirm__btns">\n          <button class = "btn btn_cancel form-confirm__btn">Удалить</button>\n          <button class = "btn form-confirm__btn">Оставить</button>\n        </div>\n        '}),i,s,e,t,n],MessageFormEl:r}}render(){return this.compile(qe,this.props)}};const pt="Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello ";var dt=class extends p{constructor(e){super(e)}init(){this.props.user=b;const e=new ot({title:"Добавить чат",id:"add-chat-modal",input:new C({label:"Название чата",attributes:{type:"text"}}),Button:new Z({text:"Добавить",attributes:{class:"form-user__btn"}}),events:{submit:t=>{e.submit(t)}}});this.children={UserPhoto:new Ce({photoSrc:this.props.user.avatar,attributes:{class:"chat-profile__img",alt:this.props.user.first_name}}),ChatsList:[new Re({isActive:!1,user:b,isUserMessageLast:!1,time:"16:45",messageCount:0,text:pt,events:{click:this.chooseChat.bind(this)}}),new Re({isActive:!1,user:b,isUserMessageLast:!1,time:"16:45",messageCount:5,text:pt,events:{click:this.chooseChat.bind(this)}})],Modals:[e]},this.props.events||(this.props.events={}),this.props.events.click=[this.openMenu,e=>{let t=e.target;t=t.closest("[data-modal]")||t,document.querySelector(`#${t.dataset.modal}`)?.classList.add("is-active")},e=>{const t=e.target.closest("[data-close]");t&&t.parentElement?.classList.remove("is-active")}]}chooseChat(e){let t=e.target;t=t.closest(".chat-el")||t,t.classList.contains("is-active")||(this.element.querySelector(".chat-el.is-active")?.classList.remove("is-active"),t.classList.add("is-active"),this.children.ActiveChat=new ut,this.props.ActiveChat=this.children.ActiveChat)}openMenu(e){let t=e.target;if(t=t.closest(".chat-message__menu")||t.closest(".chat-user__menu")||t,t.classList.length>0){const e=t.querySelector(`.${Array.from(t.classList).join(".")} > [class*=actions]`)||null;e&&e.classList.toggle("is-active")}}render(){return this.compile(Pe,this.props)}};let ft;var ht;(ht=ft||(ft={})).index="/index",ht.unknown="/404",ht.serverError="/500",ht.auth="/auth",ht.registration="/registration",ht.pagination="/pagination",ht.profile="/profile",ht.profileEdit="/profile/edit",ht.changePassword="/change-password";const vt={"/index":new dt({profileUrl:"/profile"}),"/404":new G({status:404,statusText:"Страница ушла, но обещала вернуться"}),"/500":new G({status:500,statusText:"У нас что-то поломалось, уже чиним"}),"/auth":new W,"/registration":new J,"/pagination":new K,"/profile":new Le({backUrl:"/index",changeProfileUrl:"/profile/edit",changePasswordUrl:"/change-password"}),"/profile/edit":new je({backUrl:"/index"}),"/change-password":new Fe({backUrl:"/index"})};function mt(e,t){e.innerHTML="";const n=vt[t];e.appendChild(n.getContent()),n.dispatchComponentDidMount()}const gt=document.querySelector("#app");mt(gt,ft.pagination),document.addEventListener("click",(function(e){let t=e.target;"A"!==t.nodeName&&(t=t.closest("a")||t);const n=t.getAttribute("href");t&&(t.closest("a")||"A"===t.nodeName)&&null!==n&&(e.preventDefault(),mt(gt,n))}));
//# sourceMappingURL=index.ebdf3ae6.js.map
